<!DOCTYPE html>
<html>
<head>
<title>Live Preview</title>
<script>
(function( win ){
var location = win.location;

// RegExp from http://stackoverflow.com/questions/901115/get-query-string-values-in-javascript
function pageName() {
  var value = new RegExp( '[\\?&]' + 'page' + '=([^&#]*)' ).exec( location.href );
  return  ( !value ) ? 0 : value[ 1 ] || 0;
}

// Fall back to old edit mode on browsers that do not support typed arrays.
if ( typeof Int32Array == 'undefined' ) {
  win.location = location.protocol + '//' + location.host + '/edit/' + pageName();
}
})(window);
</script>
<link rel='stylesheet' type='text/css' href='../css/template.css' />
<link rel='stylesheet' type='text/css' href='css/custom.css' />
</head>

<body>
<div id='editor'></div>

<div id='previewframe'><div id='contentframe' class='markdown-body'></div></div>
<!-- tool panel from notepage.es. save & savecomment icons from Retina Display Icon Set. -->  
<div id='toolpanel' class='toolpanel edit' style='width: 500px; right: 0px; visibility: hidden;'>
  <a id='save' class='edit'><img src='images/save_24.png' alt='Save' title='Save'></a>
  <a id='savecomment' class='edit'><img src='images/savecomment_24.png' alt='Save with comment' title='Save with comment'></a>
  <a id='toggle' class='edit' href='javascript:void(0)' onclick='jsm.toggleLeftRight();'><img src='images/lr_24.png' alt='Toggle left to right' title='Toggle left to right'></a>
</div>

<div id='commenttoolpanel' class='toolpanel edit' style='width: 500px; right: 0px; '>
  <a id='savecommentconfirm' class='edit'><img src='images/savecomment_24.png' alt='Confirm save with comment' title='Confirm save with comment'></a>
  <a id='commentcancel' class='edit'><img src='images/cancel_24.png' alt='Cancel save with comment' title='Cancel save with comment'></a>
</div>
<div id='comment'></div>
<div id='darkness'></div>

<script>
var require = {
  paths: {
    ace: 'js/ace/lib/ace'
  }
};
</script>
<script src='js/requirejs/require.js'></script>
<script src='js/jquery/jquery-1.7.2.min.js'></script>
<script src='js/debounce/jquery.ba-throttle-debounce.js'></script>
<script src='js/sundown/sundown_o2.js'></script>
<script src='js/livepreview/livepreview.js'></script>
<script>(function(d,j){
j = d.createElement('script');
j.src = 'https://c328740.ssl.cf1.rackcdn.com/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML';
(d.head || d.getElementsByTagName('head')[0]).appendChild(j);
}(document));
</script>
</body>
</html>
